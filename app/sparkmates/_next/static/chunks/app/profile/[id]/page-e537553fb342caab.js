(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{1384:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},16295:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group")},29414:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},30723:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share")},51866:(e,t,i)=>{"use strict";i.d(t,{default:()=>V});var r=i(95155),n=i(12115),s=i(52269),l=i(63159),a=i(44146),o=i(68086),c=i(3951),d=i(54265),h=i(55857),x=i(9670),p=i(81063),A=i(55398),m=i(80158),v=i(75236),u=i(80460),j=i(84256),g=i(83339),b=i(20071),y=i(29414),f=i(1384),w=i(60392),C=i(30723);let k=(0,i(89019).A)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75M9.1 17H7v-2.14l5.96-5.96 2.12 2.12zm7.75-7.73-1.06 1.06-2.12-2.12 1.06-1.06c.2-.2.51-.2.71 0l1.41 1.41c.2.2.2.51 0 .71"}),"NoteAlt");var S=i(16295),W=i(91287),B=i(35695),L=i(25680),I=i(36971),R=i(59434),M=i(24988);function z(e){let{children:t,value:i,index:n,...l}=e;return(0,r.jsx)("div",{role:"tabpanel",hidden:i!==n,id:"profile-tabpanel-".concat(n),"aria-labelledby":"profile-tab-".concat(n),...l,children:i===n&&(0,r.jsx)(s.A,{sx:{py:3},children:t})})}let V=e=>{let{params:t}=e,i=(0,B.useRouter)(),{user:V}=(0,L.A)(),E=null==t?void 0:t.id,[T,D]=(0,n.useState)(null),[H,N]=(0,n.useState)([]),[O,_]=(0,n.useState)([]),[q,P]=(0,n.useState)(!0),[Y,F]=(0,n.useState)(null),[U,Z]=(0,n.useState)(0);(0,n.useEffect)(()=>{(async()=>{if(E)try{P(!0);let e=await I.Zw.getById(E);if(!e){F("用户不存在或已被删除");return}D(e);let t=await I.hI.getByUser(E);N(t);let i=await I.f3.getByUser(E);_(i)}catch(e){console.error("Error fetching user data:",e),F("加载用户数据时出错")}finally{P(!1)}})()},[E]);let G=()=>{i.back()},J=(null==V?void 0:V.id)===E;return q?(0,r.jsx)(M.A,{sx:{mt:8},children:(0,r.jsxs)(l.A,{maxWidth:"lg",children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,r.jsx)(a.A,{onClick:G,sx:{mr:2},children:(0,r.jsx)(y.A,{})}),(0,r.jsx)(o.A,{variant:"text",width:"50%",height:40})]}),(0,r.jsxs)(c.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsx)(o.A,{variant:"rectangular",height:300,sx:{mb:2}})}),(0,r.jsxs)(c.Ay,{item:!0,xs:12,md:8,children:[(0,r.jsx)(o.A,{variant:"rectangular",height:200,sx:{mb:2}}),(0,r.jsx)(o.A,{variant:"text",height:30,sx:{mb:1}}),(0,r.jsx)(o.A,{variant:"text",height:20}),(0,r.jsx)(o.A,{variant:"text",height:20})]})]})]})}):Y||!T?(0,r.jsx)(M.A,{sx:{mt:8},children:(0,r.jsxs)(l.A,{maxWidth:"lg",children:[(0,r.jsx)(d.A,{severity:"error",sx:{mt:4},children:Y||"无法加载用户资料"}),(0,r.jsx)(s.A,{sx:{mt:2,textAlign:"center"},children:(0,r.jsx)(h.A,{variant:"outlined",onClick:G,children:"返回上一页"})})]})}):(0,r.jsx)(M.A,{sx:{mt:8},children:(0,r.jsxs)(l.A,{maxWidth:"lg",children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,r.jsx)(a.A,{onClick:G,sx:{mr:2},children:(0,r.jsx)(y.A,{})}),(0,r.jsx)(x.A,{variant:"h4",component:"h1",fontWeight:"bold",children:"个人资料"})]}),(0,r.jsxs)(c.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(p.A,{elevation:0,sx:{p:3,borderRadius:2},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[(0,r.jsx)(A.A,{src:(0,R.TW)(T.avatar),alt:T.name,sx:{width:120,height:120,mb:2}}),(0,r.jsx)(x.A,{variant:"h5",fontWeight:"bold",children:T.name}),(0,r.jsx)(x.A,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:T.role}),J?(0,r.jsx)(h.A,{variant:"outlined",startIcon:(0,r.jsx)(f.A,{}),sx:{mt:1},onClick:()=>i.push("/profile/edit"),children:"编辑资料"}):(0,r.jsxs)(s.A,{sx:{display:"flex",mt:1},children:[(0,r.jsx)(h.A,{variant:"contained",startIcon:(0,r.jsx)(w.A,{}),sx:{mr:1},onClick:()=>i.push("/messages?userId=".concat(T.id)),children:"发送消息"}),(0,r.jsx)(a.A,{color:"primary",children:(0,r.jsx)(C.A,{})})]})]}),(0,r.jsx)(m.A,{sx:{my:2}}),(0,r.jsxs)(s.A,{sx:{mb:3},children:[(0,r.jsx)(x.A,{variant:"body2",fontWeight:"medium",gutterBottom:!0,children:"个人简介"}),(0,r.jsx)(x.A,{variant:"body2",sx:{whiteSpace:"pre-line"},children:T.bio||"这个人很懒，还没有填写个人简介。"})]}),(0,r.jsx)(m.A,{sx:{my:2}}),(0,r.jsxs)(s.A,{sx:{mb:3},children:[(0,r.jsx)(x.A,{variant:"body2",fontWeight:"medium",gutterBottom:!0,children:"邮箱"}),(0,r.jsx)(x.A,{variant:"body2",children:T.email})]}),(0,r.jsx)(m.A,{sx:{my:2}}),(0,r.jsxs)(s.A,{children:[(0,r.jsx)(x.A,{variant:"body2",fontWeight:"medium",gutterBottom:!0,children:"加入时间"}),(0,r.jsx)(x.A,{variant:"body2",children:(0,R.Yq)(T.createdAt)})]})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,r.jsxs)(p.A,{elevation:0,sx:{borderRadius:2},children:[(0,r.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(v.A,{value:U,onChange:(e,t)=>{Z(t)},variant:"fullWidth",children:[(0,r.jsx)(u.A,{icon:(0,r.jsx)(k,{}),label:"创意",iconPosition:"start"}),(0,r.jsx)(u.A,{icon:(0,r.jsx)(S.A,{}),label:"项目",iconPosition:"start"}),(0,r.jsx)(u.A,{icon:(0,r.jsx)(W.A,{}),label:"收藏",iconPosition:"start"})]})}),(0,r.jsxs)(z,{value:U,index:0,children:[(0,r.jsxs)(x.A,{variant:"h6",gutterBottom:!0,children:[J?"我的创意":"".concat(T.name,"的创意")," (",O.length,")"]}),O.length>0?(0,r.jsx)(c.Ay,{container:!0,spacing:2,children:O.map(e=>(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsx)(j.A,{variant:"outlined",sx:{borderRadius:2,cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:2}},onClick:()=>i.push("/ideas/".concat(e.id)),children:(0,r.jsxs)(g.A,{children:[(0,r.jsx)(x.A,{variant:"subtitle1",gutterBottom:!0,children:e.title}),(0,r.jsx)(x.A,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",mb:2,height:40},children:e.description}),(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(b.A,{label:e.category,size:"small",variant:"outlined"}),(0,r.jsx)(x.A,{variant:"caption",color:"text.secondary",children:(0,R.Yq)(e.createdAt)})]})]})})},e.id))}):(0,r.jsxs)(s.A,{sx:{textAlign:"center",py:4},children:[(0,r.jsx)(x.A,{color:"text.secondary",children:J?"你还没有创建任何创意":"".concat(T.name,"还没有创建任何创意")}),J&&(0,r.jsx)(h.A,{variant:"outlined",sx:{mt:2},onClick:()=>i.push("/ideas/new"),children:"创建第一个创意"})]})]}),(0,r.jsxs)(z,{value:U,index:1,children:[(0,r.jsxs)(x.A,{variant:"h6",gutterBottom:!0,children:[J?"我的项目":"".concat(T.name,"的项目")," (",H.length,")"]}),H.length>0?(0,r.jsx)(c.Ay,{container:!0,spacing:2,children:H.map(e=>(0,r.jsx)(c.Ay,{item:!0,xs:12,children:(0,r.jsx)(j.A,{variant:"outlined",sx:{borderRadius:2,cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:2}},onClick:()=>i.push("/projects/".concat(e.id)),children:(0,r.jsxs)(g.A,{children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,r.jsx)(x.A,{variant:"subtitle1",children:e.title}),(0,r.jsx)(b.A,{label:e.status,size:"small",color:"已完成"===e.status?"success":"进行中"===e.status?"primary":"规划中"===e.status?"info":"default"})]}),(0,r.jsx)(x.A,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",mb:2,height:40},children:e.description}),(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(s.A,{children:[(0,r.jsx)(b.A,{label:e.category,size:"small",variant:"outlined",sx:{mr:1}}),(0,r.jsx)(b.A,{label:"进度: ".concat(e.progress,"%"),size:"small",variant:"outlined"})]}),(0,r.jsx)(x.A,{variant:"caption",color:"text.secondary",children:(0,R.Yq)(e.updatedAt)})]})]})})},e.id))}):(0,r.jsxs)(s.A,{sx:{textAlign:"center",py:4},children:[(0,r.jsx)(x.A,{color:"text.secondary",children:J?"你还没有参与任何项目":"".concat(T.name,"还没有参与任何项目")}),J&&(0,r.jsx)(h.A,{variant:"outlined",sx:{mt:2},onClick:()=>i.push("/projects/new"),children:"创建第一个项目"})]})]}),(0,r.jsxs)(z,{value:U,index:2,children:[(0,r.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:J?"我的收藏":"".concat(T.name,"的收藏")}),(0,r.jsxs)(s.A,{sx:{textAlign:"center",py:4},children:[(0,r.jsx)(x.A,{color:"text.secondary",children:J?"你还没有收藏任何内容":"".concat(T.name,"还没有公开的收藏内容")}),J&&(0,r.jsx)(x.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"浏览创意和项目时，点击收藏按钮将它们添加到这里"})]})]})]})})]})]})})}},56016:(e,t,i)=>{Promise.resolve().then(i.bind(i,51866))},59434:(e,t,i)=>{"use strict";i.d(t,{EJ:()=>l,TW:()=>r,Yq:()=>n,ZV:()=>s});let r=(e,t)=>e&&!e.includes("placeholder")?e:"/avatars/placeholder.svg",n=e=>{let t=new Date(e);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(t)},s=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),l=(e,t)=>e.length<=t?e:e.slice(0,t)+"..."},60392:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},80158:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var r=i(12115),n=i(52596),s=i(15386),l=i(78894),a=i(35881),o=i(74409),c=i(82700),d=i(41090),h=i(95155);let x=e=>{let{absolute:t,children:i,classes:r,flexItem:n,light:l,orientation:a,textAlign:o,variant:c}=e;return(0,s.A)({root:["root",t&&"absolute",c,l&&"light","vertical"===a&&"vertical",n&&"flexItem",i&&"withChildren",i&&"vertical"===a&&"withChildrenVertical","right"===o&&"vertical"!==a&&"textAlignRight","left"===o&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},d.K,r)},p=(0,a.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((0,o.A)(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,l.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),A=(0,a.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((0,o.A)(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),m=r.forwardRef(function(e,t){let i=(0,c.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:l,orientation:a="horizontal",component:o=s||"vertical"===a?"div":"hr",flexItem:d=!1,light:m=!1,role:v="hr"!==o?"separator":void 0,textAlign:u="center",variant:j="fullWidth",...g}=i,b={...i,absolute:r,component:o,flexItem:d,light:m,orientation:a,role:v,textAlign:u,variant:j},y=x(b);return(0,h.jsx)(p,{as:o,className:(0,n.A)(y.root,l),role:v,ref:t,ownerState:b,"aria-orientation":"separator"===v&&("hr"!==o||"vertical"===a)?a:void 0,...g,children:s?(0,h.jsx)(A,{className:y.wrapper,ownerState:b,children:s}):null})});m&&(m.muiSkipListHighlight=!0);let v=m},91287:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(89019),n=i(95155);let s=(0,r.A)((0,n.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")}},e=>{var t=t=>e(e.s=t);e.O(0,[827,364,34,951,948,501,309,680,988,441,684,358],()=>t(56016)),_N_E=e.O()}]);